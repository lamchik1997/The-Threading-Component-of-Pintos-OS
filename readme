Project Requirements:

Reimplement timer_sleep(), defined in ‘devices/timer.c’. Although a working implementation is provided, it “busy waits,” that is, it spins in a loop checking the current time and calling thread_yield() until enough time has gone by. Reimplement it to avoid busy waiting.




Design Ideas:


In timer_sleep(), while loop is not efficient due to loop ececute thread_yield(). This will lead to have the busy waiting, so we need to put thread to sleep when busy and wake when not busy.

So we can put threads in timer_sleep() on block status, when the sleep time passed, wake up the threads, and then put it on ready status.

